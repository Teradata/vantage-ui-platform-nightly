!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@td-vantage/ui-platform/theme",["exports","@angular/core","@angular/common","rxjs","rxjs/operators"],t):t(((e=e||self)["td-vantage"]=e["td-vantage"]||{},e["td-vantage"]["ui-platform"]=e["td-vantage"]["ui-platform"]||{},e["td-vantage"]["ui-platform"].theme={}),e.ng.core,e.ng.common,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,n,a){"use strict";var o={DARK:"dark-theme",LIGHT:"light-theme"};var i=function(){function e(e,t){var r=this;this.rendererFactory=e,this._document=t,this._activeThemeSubject=new n.BehaviorSubject(localStorage.getItem("vantage.theme")),this.activeTheme$=this._activeThemeSubject.asObservable(),this.darkTheme$=this._activeThemeSubject.asObservable().pipe(a.map((function(e){return e===o.DARK}))),this.lightTheme$=this._activeThemeSubject.asObservable().pipe(a.map((function(e){return e===o.LIGHT}))),this._renderer2=e.createRenderer(void 0,void 0),n.fromEvent(window,"storage").pipe(a.filter((function(e){return"vantage.theme"===e.key}))).subscribe((function(e){return r.applyTheme(e.newValue)}))}return Object.defineProperty(e.prototype,"_activeTheme",{get:function(){return this._activeThemeSubject.getValue()},set:function(e){this._activeThemeSubject.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"darkThemeIsActive",{get:function(){return this._activeTheme===o.DARK},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lightThemeIsActive",{get:function(){return this._activeTheme===o.LIGHT},enumerable:!0,configurable:!0}),e.prototype.activeTheme=function(){return this._activeTheme},e.prototype.applyLightTheme=function(){this.applyTheme(o.LIGHT)},e.prototype.applyDarkTheme=function(){this.applyTheme(o.DARK)},e.prototype.toggleTheme=function(){this._activeTheme===o.DARK?this.applyLightTheme():this.applyDarkTheme()},e.prototype.map=function(e,t){return this.activeTheme$.pipe(a.map((function(r){return r in e?e[r]:t})))},e.prototype.applyTheme=function(e){this._renderer2.removeClass(this._document.querySelector("html"),e===o.DARK?o.LIGHT:o.DARK),localStorage.setItem("vantage.theme",e),this._renderer2.addClass(this._document.querySelector("html"),e),this._activeTheme=localStorage.getItem("vantage.theme")},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:t.RendererFactory2},{type:void 0,decorators:[{type:t.Inject,args:[r.DOCUMENT]}]}]},e}();function c(e,t,r){return e||new i(t,r)}var u={provide:i,deps:[[new t.Optional,new t.SkipSelf,i],[t.RendererFactory2],[r.DOCUMENT]],useFactory:c},h=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule],providers:[u]}]}],e}();e.VANTAGE_THEME_PROVIDER=u,e.VANTAGE_THEME_PROVIDER_FACTORY=c,e.VantageTheme=o,e.VantageThemeModule=h,e.VantageThemeService=i,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=td-vantage-ui-platform-theme.umd.min.js.map