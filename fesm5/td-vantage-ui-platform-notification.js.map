{"version":3,"file":"td-vantage-ui-platform-notification.js","sources":["ng://@td-vantage/ui-platform/notification/smtp/smtp.service.ts","ng://@td-vantage/ui-platform/notification/notification.module.ts"],"sourcesContent":["import { Provider, Optional, SkipSelf } from '@angular/core';\nimport { HttpHeaders, HttpResponse, HttpErrorResponse } from '@angular/common/http';\n\nimport { Observable, of } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\n\nimport { TdHttp, TdGET, TdPUT, TdDELETE, TdBody, TdResponse } from '@covalent/http';\n\nexport interface ISMTPConfig {\n  server?: string;\n  port?: number;\n  reply_address?: string;\n  smtp_username?: string;\n  smtp_password?: string;\n  use_ssl?: boolean;\n  anon_logon?: boolean;\n  server_timeout?: number;\n}\n\n@TdHttp({\n  baseUrl: '/api/notification',\n  baseHeaders: new HttpHeaders({ Accept: 'application/json' }),\n})\nexport class VantageSMTPService {\n  @TdPUT({\n    path: '/smtp-config',\n  })\n  create(@TdBody() body: ISMTPConfig, @TdResponse() response?: Observable<ISMTPConfig>): Observable<ISMTPConfig> {\n    return response;\n  }\n\n  @TdGET({\n    path: '/smtp-config',\n  })\n  query(@TdResponse() response?: Observable<ISMTPConfig>): Observable<ISMTPConfig> {\n    return response;\n  }\n\n  @TdDELETE({\n    path: '/smtp-config',\n  })\n  delete(@TdResponse() response?: Observable<void>): Observable<void> {\n    return response;\n  }\n\n  @TdGET({\n    path: '/health',\n  })\n  health(@TdResponse() response?: Observable<HttpResponse<any>>): Observable<boolean> {\n    return response.pipe(\n      catchError((error: HttpErrorResponse) => {\n        return of(false);\n      }),\n      map((res: HttpResponse<any>) => {\n        return !!res;\n      }),\n    );\n  }\n}\n\nexport function VANTAGE_SMTP_PROVIDER_FACTORY(parent: VantageSMTPService): VantageSMTPService {\n  return parent || new VantageSMTPService();\n}\n\nexport const VANTAGE_SMTP_PROVIDER: Provider = {\n  // If there is already a service available, use that. Otherwise, provide a new one.\n  provide: VantageSMTPService,\n  deps: [[new Optional(), new SkipSelf(), VantageSMTPService]],\n  useFactory: VANTAGE_SMTP_PROVIDER_FACTORY,\n};\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { VANTAGE_SMTP_PROVIDER } from './smtp/smtp.service';\n\n@NgModule({\n  imports: [CommonModule],\n  providers: [VANTAGE_SMTP_PROVIDER],\n})\nexport class VantageNotificationModule {}\n"],"names":["tslib_1.__decorate","tslib_1.__param"],"mappings":";;;;;;;;;;;;;;;AAQA,0BASC;;;IARC,6BAAgB;;IAChB,2BAAc;;IACd,oCAAuB;;IACvB,oCAAuB;;IACvB,oCAAuB;;IACvB,8BAAkB;;IAClB,iCAAqB;;IACrB,qCAAwB;;;;KA0CzB;;;;;;IA/BC,mCAAM;;;;;IAAN,UAAiB,IAAiB,EAAgB,QAAkC;QAClF,OAAO,QAAQ,CAAC;KACjB;;;;;IAKD,kCAAK;;;;IAAL,UAAoB,QAAkC;QACpD,OAAO,QAAQ,CAAC;KACjB;;;;;IAKD,mCAAM;;;;IAAN,UAAqB,QAA2B;QAC9C,OAAO,QAAQ,CAAC;KACjB;;;;;IAKD,mCAAM;;;;IAAN,UAAqB,QAAwC;QAC3D,OAAO,QAAQ,CAAC,IAAI,CAClB,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,EACF,GAAG;;;;QAAC,UAAC,GAAsB;YACzB,OAAO,CAAC,CAAC,GAAG,CAAC;SACd,EAAC,CACH,CAAC;KACH;IA9BDA;QAHC,KAAK,CAAC;YACL,IAAI,EAAE,cAAc;SACrB,CAAC;QACMC,WAAA,MAAM,EAAE,CAAA,EAAqBA,WAAA,UAAU,EAAE,CAAA;;iDAAY,UAAU;wCAAgB,UAAU;oDAEhG;IAKDD;QAHC,KAAK,CAAC;YACL,IAAI,EAAE,cAAc;SACrB,CAAC;QACKC,WAAA,UAAU,EAAE,CAAA;;yCAAY,UAAU;wCAAgB,UAAU;mDAElE;IAKDD;QAHC,QAAQ,CAAC;YACR,IAAI,EAAE,cAAc;SACrB,CAAC;QACMC,WAAA,UAAU,EAAE,CAAA;;yCAAY,UAAU;wCAAS,UAAU;oDAE5D;IAKDD;QAHC,KAAK,CAAC;YACL,IAAI,EAAE,SAAS;SAChB,CAAC;QACMC,WAAA,UAAU,EAAE,CAAA;;yCAAY,UAAU;wCAAsB,UAAU;oDASzE;IAlCU,kBAAkB;QAJ9B,MAAM,CAAC;YACN,OAAO,EAAE,mBAAmB;YAC5B,WAAW,EAAE,IAAI,WAAW,CAAC,EAAE,MAAM,EAAE,kBAAkB,EAAE,CAAC;SAC7D,CAAC;OACW,kBAAkB,CAmC9B;IAAD,yBAAC;CAAA,IAAA;;;;;AAED,SAAgB,6BAA6B,CAAC,MAA0B;IACtE,OAAO,MAAM,IAAI,IAAI,kBAAkB,EAAE,CAAC;CAC3C;;AAED,IAAa,qBAAqB,GAAa;;IAE7C,OAAO,EAAE,kBAAkB;IAC3B,IAAI,EAAE,CAAC,CAAC,IAAI,QAAQ,EAAE,EAAE,IAAI,QAAQ,EAAE,EAAE,kBAAkB,CAAC,CAAC;IAC5D,UAAU,EAAE,6BAA6B;CAC1C;;;;;;ACrED;IAKA;KAIyC;;gBAJxC,QAAQ,SAAC;oBACR,OAAO,EAAE,CAAC,YAAY,CAAC;oBACvB,SAAS,EAAE,CAAC,qBAAqB,CAAC;iBACnC;;IACuC,gCAAC;CAJzC;;;;;;;;;;;;;;;;;;;"}