{"version":3,"file":"td-vantage-ui-platform-assets.js","sources":["ng://@td-vantage/ui-platform/assets/assets.service.ts","ng://@td-vantage/ui-platform/assets/assets.module.ts"],"sourcesContent":["import { map, catchError } from 'rxjs/operators';\nimport { Injectable, Optional, SkipSelf, Provider } from '@angular/core';\nimport { HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { mixinHttp, TdGET, TdResponse } from '@covalent/http';\nimport { Observable, of } from 'rxjs';\n\nimport { IMenuItem } from '@covalent/core/dynamic-menu';\n\nexport interface ILearnLinkItem extends IMenuItem {\n  description?: string;\n}\n\nexport interface IHelpAssets {\n  [name: string]: {\n    links: IMenuItem[];\n    learn?: ILearnLinkItem[];\n  };\n}\n\n@Injectable()\nexport class VantageAssetsService extends mixinHttp(class {}, {\n  baseUrl: '/ui-assets',\n  baseHeaders: new HttpHeaders({\n    Accept: 'application/json',\n  }),\n}) {\n  /**\n   * Retrieve the help JSON definition asset\n   */\n  @TdGET({\n    path: '/json/help/help.json',\n    options: {\n      observe: 'response',\n    },\n  })\n  getHelpJSON(@TdResponse() response?: Observable<HttpResponse<any>>): Observable<IHelpAssets> {\n    return response.pipe(\n      catchError((error: Response) => {\n        return of(error);\n      }),\n      map((res: HttpResponse<IHelpAssets>) => {\n        return res.body;\n      }),\n    );\n  }\n}\n\nexport function VANTAGE_ASSETS_PROVIDER_FACTORY(parent: VantageAssetsService): VantageAssetsService {\n  return parent || new VantageAssetsService();\n}\n\nexport const VANTAGE_ASSETS_PROVIDER: Provider = {\n  // If there is already a service available, use that. Otherwise, provide a new one.\n  provide: VantageAssetsService,\n  deps: [[new Optional(), new SkipSelf(), VantageAssetsService]],\n  useFactory: VANTAGE_ASSETS_PROVIDER_FACTORY,\n};\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { VANTAGE_ASSETS_PROVIDER } from './assets.service';\n\n@NgModule({\n  imports: [CommonModule],\n  providers: [VANTAGE_ASSETS_PROVIDER],\n})\nexport class VantageAssetsModule {}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;6BAUC;;;IADC,qCAAqB;;;;;0BAQtB;MAGY,oBAAqB,SAAQ,SAAS,CAAC;CAAQ,EAAE;IAC5D,OAAO,EAAE,YAAY;IACrB,WAAW,EAAE,IAAI,WAAW,CAAC;QAC3B,MAAM,EAAE,kBAAkB;KAC3B,CAAC;CACH,CAAC;;;;;;IAUA,WAAW,CAAe,QAAwC;QAChE,OAAO,QAAQ,CAAC,IAAI,CAClB,UAAU;;;;QAAC,CAAC,KAAe;YACzB,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,EACF,GAAG;;;;QAAC,CAAC,GAA8B;YACjC,OAAO,GAAG,CAAC,IAAI,CAAC;SACjB,EAAC,CACH,CAAC;KACH;;;YAzBF,UAAU;;AAgBT;IANC,KAAK,CAAC;QACL,IAAI,EAAE,sBAAsB;QAC5B,OAAO,EAAE;YACP,OAAO,EAAE,UAAU;SACpB;KACF,CAAC;IACW,WAAA,UAAU,EAAE,CAAA;;qCAAY,UAAU;oCAAsB,UAAU;uDAS9E;;;;;SAGa,+BAA+B,CAAC,MAA4B;IAC1E,OAAO,MAAM,IAAI,IAAI,oBAAoB,EAAE,CAAC;AAC9C,CAAC;;MAEY,uBAAuB,GAAa;;IAE/C,OAAO,EAAE,oBAAoB;IAC7B,IAAI,EAAE,CAAC,CAAC,IAAI,QAAQ,EAAE,EAAE,IAAI,QAAQ,EAAE,EAAE,oBAAoB,CAAC,CAAC;IAC9D,UAAU,EAAE,+BAA+B;;;;;;;MC/ChC,mBAAmB;;;YAJ/B,QAAQ,SAAC;gBACR,OAAO,EAAE,CAAC,YAAY,CAAC;gBACvB,SAAS,EAAE,CAAC,uBAAuB,CAAC;aACrC;;;;;;;;;;;;;;;;;;;;"}