!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("@td-vantage/ui-platform/testing/cypress",["exports"],t):t(((e=e||self)["td-vantage"]=e["td-vantage"]||{},e["td-vantage"]["ui-platform"]=e["td-vantage"]["ui-platform"]||{},e["td-vantage"]["ui-platform"].testing=e["td-vantage"]["ui-platform"].testing||{},e["td-vantage"]["ui-platform"].testing.cypress={}))}(this,function(e){"use strict";var t=Cypress.config("baseUrl"),n=Cypress.env("loginUrl");e.login=function(e){var o=e.username,i=e.password;cy.visit(t),cy.url().should("include",n),cy.request({url:n}).then(function(e){var r=document.createElement("html");r.innerHTML=e.body;var u=r.querySelector("#kc-form-login");u&&cy.request({form:!0,method:"POST",url:u.action,followRedirect:!1,body:{username:o,password:i}}).then(function(){cy.visit(t),cy.url().should("not.include",n),cy.url().should("include",t)})})},e.logout=function(){cy.visit(t),cy.visit("/api/user/logout"),cy.visit(t),cy.url().should("include",n)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=td-vantage-ui-platform-testing-cypress.umd.min.js.map