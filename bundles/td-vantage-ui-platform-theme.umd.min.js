!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@td-vantage/ui-platform/theme",["exports","@angular/core","@angular/common","rxjs","rxjs/operators"],t):t(((e=e||self)["td-vantage"]=e["td-vantage"]||{},e["td-vantage"]["ui-platform"]=e["td-vantage"]["ui-platform"]||{},e["td-vantage"]["ui-platform"].theme={}),e.ng.core,e.ng.common,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,o,n){"use strict";var a="vantage.theme",i={DARK:"dark-theme",LIGHT:"light-theme"},c=function(){function e(e,t){var r=this;this.rendererFactory=e,this._document=t,this._activeThemeSubject=new o.BehaviorSubject(localStorage.getItem(a)),this.activeTheme$=this._activeThemeSubject.asObservable(),this._renderer2=e.createRenderer(void 0,void 0),o.fromEvent(window,"storage").pipe(n.filter((function(e){return e.key===a}))).subscribe((function(e){return r.applyTheme(e.newValue)}))}return Object.defineProperty(e.prototype,"activeTheme",{get:function(){return this._activeThemeSubject.getValue()},set:function(e){this._activeThemeSubject.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"darkThemeIsActive",{get:function(){return this.activeTheme===i.DARK},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lightThemeIsActive",{get:function(){return this.activeTheme===i.LIGHT},enumerable:!0,configurable:!0}),e.prototype.applyLightTheme=function(){this.applyTheme(i.LIGHT)},e.prototype.applyDarkTheme=function(){this.applyTheme(i.DARK)},e.prototype.toggleTheme=function(){this.activeTheme===i.DARK?this.applyLightTheme():this.applyDarkTheme()},e.prototype.applyTheme=function(e){this._renderer2.removeClass(this._document.querySelector("html"),e===i.DARK?i.LIGHT:i.DARK),localStorage.setItem(a,e),this._renderer2.addClass(this._document.querySelector("html"),e),this.activeTheme=localStorage.getItem(a)},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:t.RendererFactory2},{type:void 0,decorators:[{type:t.Inject,args:[r.DOCUMENT]}]}]},e}();function u(e,t,r){return e||new c(t,r)}var s={provide:c,deps:[[new t.Optional,new t.SkipSelf,c],[t.RendererFactory2],[r.DOCUMENT]],useFactory:u},p=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule],providers:[s]}]}],e}();e.VANTAGE_THEME_PROVIDER=s,e.VANTAGE_THEME_PROVIDER_FACTORY=u,e.VantageTheme=i,e.VantageThemeModule=p,e.VantageThemeService=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=td-vantage-ui-platform-theme.umd.min.js.map