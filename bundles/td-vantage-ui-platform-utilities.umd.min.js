!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@covalent/core/dialogs"),require("@ngx-translate/core"),require("@angular/material/snack-bar"),require("@covalent/core/media"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@td-vantage/ui-platform/utilities",["exports","@angular/core","@covalent/core/dialogs","@ngx-translate/core","@angular/material/snack-bar","@covalent/core/media","@angular/common","rxjs","rxjs/operators"],t):t(((e=e||self)["td-vantage"]=e["td-vantage"]||{},e["td-vantage"]["ui-platform"]=e["td-vantage"]["ui-platform"]||{},e["td-vantage"]["ui-platform"].utilities={}),e.ng.core,e.covalent.core.dialogs,e["ngx-translate"].core,e.ng.material["snack-bar"],e.covalent.core.media,e.ng.common,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,a,n,o,i,c,s){"use strict";var u=function(){};var l=function(){function e(e,t){this._dialogService=e,this._translate=t}return e.prototype.open=function(e){if(e){var t={title:this._translate.instant("THERE_WAS_A_PROBLEM"),message:e.message,disableClose:!0,closeButton:this._translate.instant("CLOSE")};if(e.error&&(t.message+=" ("+e.error.toString()+")"),t.message||t.title)return this._dialogService.openAlert(t)}},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:r.TdDialogService},{type:a.TranslateService}]},e}();function d(e,t,r){return e||new l(t,r)}var p={provide:l,deps:[[new t.Optional,new t.SkipSelf,l],r.TdDialogService,a.TranslateService],useFactory:d},m=function(){function e(e,t){this._snackBarService=e,this._media=t}return e.prototype.open=function(e,t){void 0===t&&(t=3e3),e&&this._snackBarService.open(e,void 0,{duration:t,horizontalPosition:this._media&&this._media.query("gt-sm")?"end":"center"})},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:n.MatSnackBar},{type:o.TdMediaService}]},e}();function v(e,t,r){return e||new m(t,r)}var g={provide:m,deps:[[new t.Optional,new t.SkipSelf,m],n.MatSnackBar,[new t.Optional,o.TdMediaService]],useFactory:v},h=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule,n.MatSnackBarModule,r.CovalentDialogsModule,o.CovalentMediaModule],providers:[p,g]}]}],e}(),f="vantage.theme",y={DARK:"dark-theme",LIGHT:"light-theme"},S=function(){function e(e,t){var r=this;this._document=e,this.rendererFactory=t,this._activeThemeSubject=new c.BehaviorSubject(localStorage.getItem(f)),this.activeTheme$=this._activeThemeSubject.asObservable(),this._renderer2=t.createRenderer(void 0,void 0),c.fromEvent(window,"storage").pipe(s.filter((function(e){return e.key===f}))).subscribe((function(e){return r.applyTheme(e.newValue)}))}return Object.defineProperty(e.prototype,"activeTheme",{get:function(){return this._activeThemeSubject.getValue()},set:function(e){this._activeThemeSubject.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"darkThemeIsActive",{get:function(){return this.activeTheme===y.DARK},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lightThemeIsActive",{get:function(){return this.activeTheme===y.LIGHT},enumerable:!0,configurable:!0}),e.prototype.applyLightTheme=function(){this.applyTheme(y.LIGHT)},e.prototype.applyDarkTheme=function(){this.applyTheme(y.DARK)},e.prototype.applyTheme=function(e){this._renderer2.removeClass(this._document.querySelector("html"),e===y.DARK?y.LIGHT:y.DARK),localStorage.setItem(f,e),this._renderer2.addClass(this._document.querySelector("html"),e),this.activeTheme=localStorage.getItem(f)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[i.DOCUMENT]}]},{type:t.RendererFactory2}]},e.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(i.DOCUMENT),t.ɵɵinject(t.RendererFactory2))},token:e,providedIn:"root"}),e}();e.VantageError=u,e.VantageErrorService=l,e.VantageTheme=y,e.VantageThemeService=S,e.VantageToastService=m,e.VantageUserFeedbackModule=h,e.ɵa=d,e.ɵb=p,e.ɵc=v,e.ɵd=g,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=td-vantage-ui-platform-utilities.umd.min.js.map