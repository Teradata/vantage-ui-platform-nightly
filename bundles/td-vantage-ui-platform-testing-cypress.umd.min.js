!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("@td-vantage/ui-platform/testing/cypress",["exports"],t):t(((e=e||self)["td-vantage"]=e["td-vantage"]||{},e["td-vantage"]["ui-platform"]=e["td-vantage"]["ui-platform"]||{},e["td-vantage"]["ui-platform"].testing=e["td-vantage"]["ui-platform"].testing||{},e["td-vantage"]["ui-platform"].testing.cypress={}))}(this,(function(e){"use strict";var t=Cypress.config("baseUrl"),n=Cypress.env("loginUrl");function o(){cy.visit(t),cy.url().should("not.include",n),cy.url().should("include",t)}var i=["USER_SSO_ID","XSRF-TOKEN"];e.SSO_COOKIES=i,e.login=function(e){var t=e.username,i=e.password;cy.request({url:n}).then((function(e){var n=document.createElement("html");n.innerHTML=e.body;var r=n.querySelector("#kc-form-login");r?cy.request({form:!0,method:"POST",url:r.action,followRedirect:!1,body:{username:t,password:i}}).then((function(){o()})):o()}))},e.logout=function(){cy.request("/api/user/logout")},e.whiteListSSOCookies=function(){Cypress.Cookies.defaults({whitelist:i})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=td-vantage-ui-platform-testing-cypress.umd.min.js.map